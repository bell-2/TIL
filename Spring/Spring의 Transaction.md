# Spring의 Transaction

## 트랜잭션 스크립트
하나의 트랜잭션 안에서 동작해야하는 코드를 하나로 모아서 만드는 방식
트랜잭션마다 하나의 메소드로 구성해서 사용

### 트랜잭션 예시
DB 연결 -> 트랜잭션 시작 -> DB 쿼리 -> 쿼리 결과로 비즈니스 로직 적용 -> 트랜잭션 종료

-> 이렇게 사용할 경우에는 하나의 트랜잭션으로 동작함을 보장하기 위해 트랜잭션 정보를 파라미터로 계속 갖고 있어야하는 문제가 있음
-> DB 액세스 로직이 중복이 자주 발생
-> 비즈니스 로직과 데이터 액세스 로직이 섞여있는 문제

## 선언적 트랜잭션
트랜잭션이 시작되고 종료되는 지점은 별도의 설정으로 결쩡
데이터 액세스 로직과 비즈니스 로직 컴포넌트를 조합해서 하나의 트랜잭션에 동작하도록 할 수 있음
-> 트랜잭션 전파 기능
-> Propagation 필드를 REQUIRED도 설정 해줘야 함
-> 트랜잭션 시작 등의 코드 중복에 제거되고, 작은 단위의 컴포넌트들을 조합해서 사용할 수 있음

## 스프링의 선언적 트랜잭션
스프링에서는 POJO 코드에 트랜잭션 전파를 적용해줌
객체 지향 설계 원칙에도 어긋나지 않음

### 1. 트랜잭션 추상화


### 2. 트랜잭션 동기화


