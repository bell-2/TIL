# 스프링의 IoC

스프링의 많은 기능을 제공하는데, 핵심 기능은 빈 팩토리/어플리케이션 컨텍스트

<br>

## 오브젝트 팩토리를 이용한 스프링 IoC

💡 IoC (Inversion of Control) 제어 역전

### **********************************************************************************************어플리케이션 컨텍스트와 설정 정보**********************************************************************************************

**Bean 빈**

- 스프링이 제어권을 가지고 직접 만들고 관계를 부여하는 오브젝트
- 스프링 컨테이너가 생성과 관계 설정, 사용등을 제어해주는 제어의 역전이 적용된 오브젝트를 가리킴

************************Bean Factory************************

빈의 생성과 관계 설정 제어를 담당하는 IoC 오브젝트

어플리케이션 컨텍스트와 동일한 기능

<aside>
💡 빈 팩토리랑 어플리케이션 컨텍스트는 빈 또는 어플의 구성의 제어 작업을 담당하는 IoC의 핵심이다

</aside>

<br>

********@Configuration 어노테이션********

스프링한테 빈 팩토리를 위한 오브젝트 설정을 담당하는 클래스라고 알려줌

**@Bean 어노테이션**

스프링한테 오브젝트를 만들어주는 메소드라고 알려줌

```java
ApplicationContext context = new ...;
User user = context.getBean("user", User.class);
```

getBean(): ApplicationContext가 관리하는 오브젝트 중 user라는 빈을 달라 ❗

<br>

## 어플리케이션 컨텍스트의 동작 방식

**********************************************************************************************************************************************어플리케이션 컨텍스트**********************************************************************************************************************************************

- IoC 컨테이너/스프링 컨테이너/빈 팩토리 등으로도 부름
- 스프링의 가장 대표적인 오브젝트

**********************************************************어플리케이션 컨텍스트 동작 방법**********************************************************

1. 클래스를 설정 정보로 등록
2. @Bean이 붙은 메소드의 이름을 가져와 빈 목록 생성
3. 클라이언트가 getBean()을 호출하면 빈 목록 찾음
    1. 있으면 오브젝트 생성해서 클라이언트한테 줌

**어플리케이션 컨텍스트 사용 이유**

- IoC 기능 확장
- 클라이언트가 구체적인 팩토리 클래스을 몰라도 된다. XML을 사용해서 IoC 설정 정보를 만들기도 함
- 빈 검색 방법이 다양하다

<br>

##  스프링 IoC 용어 정리

**Bean**

스프링이 IoC 방식으로 관리하는 오브젝트 (managed object)

스프링을 사용하는 어플에서 만들어지는 모든 오브젝트가 빈은 아님! 

스프링이 직접 생성/제어를 담당하는 오브젝트만 빈

**Bean Factory**

스프링의 IoC를 담당하는 핵심 컨테이너

빈 팩토리를 바로 사용은 안하고 확장 버전인 어플리케이션 컨텍스트를 이용

빈 등록 및 관리

**Application Context**

빈 팩토리를 확장한 IoC 컨테이너

빈을 포함한 어플리케이션 등록 및 관리

**************Configuration Metadata**************

스프링의 설정 정보는 어플리케이션 컨텍스트/빈 팩토리가 IoC 를 적용하기 위해 사용하는 메타 정보

************Container/IoC Container************

IoC 방식으로 빈을 관리하는 것을 의미

어플리케이션 컨텍스트 대신 스프링 컨테이너라고도 부름

********************************Spring Framework********************************

IoC 컨테이너/어플리케이션 컨텍스트를 포함해서 스프링이 제공하는 모든 기능을 말함

<br>

---

<br>

출처: 토비의 스프링 ☘️☘️